!function(n){var t={};function e(o){if(t[o])return t[o].exports;var c=t[o]={i:o,l:!1,exports:{}};return n[o].call(c.exports,c,c.exports,e),c.l=!0,c.exports}e.m=n,e.c=t,e.d=function(n,t,o){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:o})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var c in n)e.d(o,c,function(t){return n[t]}.bind(null,c));return o},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=0)}([function(n,t,e){"use strict";e.r(t);var o="dbflute-schema-ex",c=function(n){return"".concat(n.value).concat(l)},r=function(n){return"".concat(n.value).concat(u)},a="_show_sql_button",l="_show_sql_dialog",u="_show_sql_textarea",i="_show_sql_copy_button",f="_show_sql_close_button",s="".concat(o,"_show_button"),d="".concat(o,"_dialog"),p="".concat(o,"_dialog_inner"),b="".concat(o,"_textarea"),v="".concat(o,"_dialog-buttons-wrapper"),_="".concat(o,"_copy-button"),g="".concat(o,"_close-button"),y="".concat(o,"_system-status");function h(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}var m=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.columnName=t}var t,e,o;return t=n,(e=[{key:"value",get:function(){return this.columnName.toLowerCase()}}])&&h(t.prototype,e),o&&h(t,o),n}();function x(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}var w,E=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.tableName=t}var t,e,o;return t=n,(e=[{key:"value",get:function(){return this.tableName.toLowerCase()}}])&&x(t.prototype,e),o&&x(t,o),n}(),O={value:'\n<button id="'.concat("SHOW_BUTTON_ID",'" class="').concat(s,'">\n  Show SQL\n</button>\n<dialog id="').concat("DIALOG_ID",'" class="').concat(d,'">\n  <div class="').concat(p,'">\n    <span class="').concat(v,'">\n      <button id="').concat("COPY_BUTTON_ID",'" class="').concat(_,'">Copy</button>\n      <button id="').concat("CLOSE_BUTTON_ID",'" class="').concat(g,'">Close</button>\n    </span>\n    <textarea id="').concat("TEXTAREA_ID",'" class="').concat(b,'"></textarea>\n  </div>\n</dialog>\n'),type:"HTMLString"},T={value:"\n<style>\n.".concat(d," {\n  margin-left: 16px;\n  padding: 0px 8px 8px 8px;\n  border: 0;\n  border-radius: 0.6rem;\n  box-shadow: 0 0 1em black;\n  background-color: rgba(0, 0, 0, 0.75);\n}\n.").concat(p," {\n  display: flex;\n  flex-direction: column;\n}\n.").concat(b," {\n  width: 400px;\n  height: 300px;\n  background-color: inherit;\n  color: white;\n}\n#").concat(y," {\n  display: none;\n}\n.").concat(v," {\n  text-align: right;\n  padding-bottom: 4px;\n}\n.").concat(s,",\n.").concat(_,",\n.").concat(g," {\n  border-radius: 3px;\n  border: 1px solid #bbb;\n  box-shadow: 0 1px 0 rgba(0, 0, 0, .3), 0 2px 2px -1px rgba(0, 0, 0, .5), 0 1px 0 rgba(255, 255, 255, .3) inset;\n  cursor: pointer;\n  overflow: visible;\n  padding: 4px 8px;\n  background-color: #b3ffe9;\n}\n.").concat(g,' {\n  background-color: #ffc2c6;\n}\n</style>\n\n<div id="').concat(y,'">\n  INJECTED\n<div>\n  '),type:"HTMLString"},C=function(n){if(!n.includes("_"))return n[0];var t="",e=n.split("_"),o=!0,c=!1,r=void 0;try{for(var a,l=e[Symbol.iterator]();!(o=(a=l.next()).done);o=!0){var u=a.value;u.length>0&&(t+=u[0])}}catch(n){c=!0,r=n}finally{try{o||null==l.return||l.return()}finally{if(c)throw r}}return t},N=function(){return document},S=function(n){return Array.prototype.slice.call(N().querySelectorAll(n))},I=function(n){var t=S(n);if(1===t.length)return t[0];throw new Error('Logic Failure: "'.concat(n,'" is always 1 element exists'))},D=function(n,t){var e=n.querySelectorAll(t);if(1===e.length)return e[0];throw new Error('Logic Failure: "'.concat(t,'" is always 1 element exists'))},L=function(){var n=function(n){var t=S(n);if(0===t.length)return null;if(1===t.length)return t[0];throw new Error('Logic Failure: "'.concat(n,'" found multiple elements'))}("#".concat(y));return null==n?"NONE":null==n.textContent?"NONE":"INJECTED"===n.textContent.trim()?"INJECTED":"NONE"},k=function(){return S("#table-list-body td.namecell").map(function(n){if(null==n.textContent)throw new Error("elm.textContent は必ず存在するはず");return new E(n.textContent.trim())})},j=function(n){var t=N().createElement("div");t.innerHTML=n.value,I("body").appendChild(t)},A=function(n,t){t.forEach(function(t){var e=N().createElement("span");e.innerHTML=n.value;var o=D(e,"#".concat("SHOW_BUTTON_ID"));o.id=function(n){return"".concat(n.value).concat(a)}(t),o.onclick=P(t),D(e,"#".concat("DIALOG_ID")).id=c(t),D(e,"#".concat("TEXTAREA_ID")).id=r(t);var l=D(e,"#".concat("CLOSE_BUTTON_ID"));l.id=function(n){return"".concat(n.value).concat(f)}(t),l.onclick=M(t);var u=D(e,"#".concat("COPY_BUTTON_ID"));u.id=function(n){return"".concat(n.value).concat(i)}(t),u.onclick=q(t);var s="#".concat(t.value);I(s).appendChild(e)})},P=function(n){return function(){var t=B(n),e=function(n,t){var e="",o=C(n);e+="SELECT";for(var c=0;c<t.length;c+=1){var r=t[c];c===t.length-1?e+="\n".concat("  ").concat(o,".").concat(r):e+="\n".concat("  ").concat(o,".").concat(r,",")}return e+="\nFROM\n".concat("  ").concat(n," AS ").concat(o,"\n;")}(n.value,t.map(function(n){return n.value}));I("#".concat(r(n))).value=e,I("#".concat(c(n))).show()}},M=function(n){return function(){I("#".concat(c(n))).close()}},q=function(n){return function(){I("#".concat(r(n))).select(),N().execCommand("copy")}},B=function(n){return S(function(n){return"#".concat(n.value,"-body td.columnnamecell")}(n)).map(function(n){if(null==n.textContent)throw new Error("elm.textContent は必ず存在するはず");return new m(n.textContent)})},H=function(n){console.log("".concat(o," debug log: ").concat(n))};S("#table-list-body td.namecell").length>0?"INJECTED"!==L()?(w=k(),j(T),A(O,w),H("injected")):H("NOP. Cause: Already injected."):H("NOP. Cause: No schema html or Invalid.")}]);